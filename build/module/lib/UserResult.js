import { getPersonPortrait, getPersonProfile } from "./utils";
export const octantCodeList = ['A1', 'A2', 'B1', 'B2', 'a1', 'a2', 'b1', 'b2'];
export function UserResult(testResult) {
    const profile = getPersonProfile(testResult);
    const portrait = getPersonPortrait(profile);
    const sortedOctants = [...portrait].sort((a, b) => (b.value - a.value));
    const mainOctant = sortedOctants[0];
    const mainPsychoTypeList = getMainPsychoType();
    const mainTendencyList = getMainTendency();
    function getMainPsychoType() {
        if (sortedOctants[0].value - sortedOctants[1].value < .2 * sortedOctants[0].value) {
            return [sortedOctants[0].index, sortedOctants[1].index];
        }
        return [sortedOctants[0].index];
    }
    function getMainTendency() {
        const sortedProfile = [...profile].sort((a, b) => b.value - a.value);
        const value1 = sortedProfile[0].value;
        const value2 = sortedProfile[1].value;
        const diff = value1 * 0.2; // difference between 1st and 2nd max values
        if (value1 - value2 < diff) {
            return [sortedProfile[0].index, sortedProfile[1].index];
        }
        return [sortedProfile[0].index];
    }
    return Object.freeze({
        sortedOctants,
        profile,
        portrait,
        mainOctant,
        mainPsychoTypeList,
        mainTendencyList,
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXNlclJlc3VsdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvVXNlclJlc3VsdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUMsaUJBQWlCLEVBQUUsZ0JBQWdCLEVBQUMsTUFBTSxTQUFTLENBQUM7QUFFNUQsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFBO0FBRTlFLE1BQU0sVUFBVSxVQUFVLENBQUMsVUFBOEI7SUFFckQsTUFBTSxPQUFPLEdBQXlCLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxDQUFBO0lBQ2xFLE1BQU0sUUFBUSxHQUF1QixpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUMvRCxNQUFNLGFBQWEsR0FBdUIsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtJQUMzRixNQUFNLFVBQVUsR0FBWSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDNUMsTUFBTSxrQkFBa0IsR0FBc0IsaUJBQWlCLEVBQUUsQ0FBQTtJQUNqRSxNQUFNLGdCQUFnQixHQUFzQixlQUFlLEVBQUUsQ0FBQTtJQUU3RCxTQUFTLGlCQUFpQjtRQUV0QixJQUFJLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFLEdBQUcsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRTtZQUMvRSxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDM0Q7UUFDRCxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxTQUFTLGVBQWU7UUFFcEIsTUFBTSxhQUFhLEdBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JFLE1BQU0sTUFBTSxHQUFHLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDdEMsTUFBTSxNQUFNLEdBQUcsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUN0QyxNQUFNLElBQUksR0FBVyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsNENBQTRDO1FBRS9FLElBQUksTUFBTSxHQUFHLE1BQU0sR0FBRyxJQUFJLEVBQUU7WUFDeEIsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzNEO1FBQ0QsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBRUQsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ2pCLGFBQWE7UUFDYixPQUFPO1FBQ1AsUUFBUTtRQUNSLFVBQVU7UUFDVixrQkFBa0I7UUFDbEIsZ0JBQWdCO0tBQ25CLENBQUMsQ0FBQTtBQUNOLENBQUMifQ==